---
layout: post
title:  "How to never write a for-loop ever again!"
date:   2014-02-19 13:24:43
categories: blog functional-programming
---

        // Identify the most important event index
        _.each(events, function(event, index) {
            var bestRank = _.indexOf(actionOrder, events[best].action);
            var currentRank = _.indexOf(actionOrder, event.action);
            best = (currentRank < bestRank) ? index : best;
        });

    //Identify index of most important event, starts lookup at index `from`
    var indexMostImportant = function(events, from){
	var newEvents = from? events.slice(from): events;

	var best = _.reduce(newEvents, function(best, event, index){
	    var currentRank =  _.indexOf(actionOrder, event.action);
	    best = ( best.actionOrder > _.indexOf(actionOrder, event.action ))?
		{ index: index, actionRank: currentRank }: best;
	}, {
	    index:0,
	    actionRank: _.indexOf(events[0].action)
	});
	return best.index;
    };


